<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/ ..\FrameXML\UI.xsd">

<Script file="LiteBagTemplate.lua" />

<!-- Copyright 2013 Mike Battersby -->

<Frame name="LiteBagTemplate" frameStrata="MEDIUM" toplevel="true" movable="true" enableMouse="true" hidden="true" virtual="true">

    <Size x="192" y="512" />

    <Layers>
        <Layer level="BACKGROUND">
            <Texture name="Portrait" parentKey="portrait">
                <Size x="40" y="40" />
                <Anchors>
                    <Anchor point="TOPLEFT" x="7" y="-5" />
                </Anchors>
            </Texture>
        </Layer>
        <Layer level="ARTWORK">
            <Texture name="$parentBackgroundTop" file="Interface\ContainerFrame\UI-BackpackBackground">
                <Size x="256" y="88" />
                <Anchors>
                    <Anchor point="TOPRIGHT" relativeTo="$parent" x="0" y="0" />
                </Anchors>
                <TexCoords left="0" right="1" top="0" bottom="0.341796875" />
            </Texture>
            <Texture name="$parentBackgroundBottom" file="Interface\ContainerFrame\UI-BackpackBackground">
                <Size x="256" y="24" />
                <Anchors>
                    <Anchor point="BOTTOMRIGHT" relativeTo="$parent" relativePoint="BOTTOMRIGHT" />
                </Anchors>
                <TexCoords left="0" right="1" top="0.828125" bottom="0.92382812" />
            </Texture>
            <Texture name="$parentBackgroundMiddle1" file="Interface\ContainerFrame\UI-Bag-Components">
                <Size x="256" y="256" />
                <Anchors>
                    <Anchor point="TOP" relativeTo="$parentBackgroundTop" relativePoint="BOTTOM"/>
                </Anchors>
                <TexCoords left="0" right="1" top="0.3515625" bottom="0.8515625"/>
            </Texture>
            <FontString name="$parentName" inherits="GameFontHighlight">
                <Size x="112" y="12" />
                <Anchors>
                    <Anchor point="TOPLEFT" x="47" y="-10" />
                </Anchors>
            </FontString>
        </Layer>
    </Layers>

    <Frames>
        <Frame name="$parentMoneyFrame" parentKey="moneyFrame" inherits="SmallMoneyFrameTemplate">
            <Anchors>
                <Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT" x="-2" y="8" />
            </Anchors>
            <Scripts>
                <OnLoad>
                    SmallMoneyFrame_OnLoad(self)
                    MoneyFrame_SetType(self, "PLAYER")
                    MoneyFrame_SetMaxDisplayWidth(self, 168)
                </OnLoad>
            </Scripts>
        </Frame>

        <Button name="$parentPortraitButton">
            <Size x="40" y="40" />
            <Anchors>
                <Anchor point="TOPLEFT" x="7" y="-5" />
            </Anchors>
            <Scripts>
                <OnEnter>
                    GameTooltip:SetOwner(self, "ANCHOR_LEFT")
                    GameTooltip:SetText()
                    for i = 1, MAX_WATCHED_TOKENS do
                        local name, amount = GetBackpackCurrencyInfo(i)
                        if name then
                            GameTooltip:AppendText(name..": "..amount)
                        end
                    end
                    -- GameTooltip:Show()
                </OnEnter>
                <OnLeave>
                    GameTooltip:Hide()
                </OnLeave>
            </Scripts>
        </Button>

        <Button name="$parentCloseButton" inherits="UIPanelCloseButton">
            <Anchors>
                <Anchor point="TOPRIGHT" x="0" y="-1" />
            </Anchors>
            <Scripts>
                <OnClick>
                    self:GetParent():Hide()
                </OnClick>
            </Scripts>
        </Button>
    </Frames>

    <Scripts>
        <OnLoad function="LiteBag_OnLoad" />
        <OnEvent function="LiteBag_OnEvent" />
        <OnHide function="LiteBag_OnHide" />
        <OnShow function="LiteBag_OnShow" />
    </Scripts>
</Frame>

</Ui>
